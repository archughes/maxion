<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambient Sound Manual Tester</title>
    <!-- Link the provided base CSS -->
    <link rel="stylesheet" href="./styles/test.css">
    <style>
        /* Add specific overrides or additions if needed */
        .controls {
            max-height: none; /* Remove height limit if desired */
             overflow-y: visible;
        }
        #currentConfigDisplay {
             margin-top: 20px;
             padding: 15px;
             border: 1px solid #eee;
             border-radius: 5px;
             background-color: #f9f9f9;
             font-size: 0.9em;
             max-height: 200px; /* Limit height of config display */
             overflow-y: auto;
             line-height: 1.6;
        }
        #currentConfigDisplay strong {
             display: block;
             margin-bottom: 5px;
             color: #4682B4;
        }
         .control-row label {
             width: 180px; /* Adjust label width */
        }
        .value-display {
             min-width: 40px; /* Ensure value display has width */
        }
         select {
             margin-left: 0; /* Align select with sliders */
        }
        /* Ensure buttons stack nicely */
        .buttons {
            margin-top: 20px;
            display: block;
        }
        #playManualButton {
             width: 100%;
             padding: 12px;
             font-size: 1.1em;
        }

    </style>
</head>

<body>
    <div class="container">
        <h1>Ambient Sound Manual Tester</h1>
        
        <!-- Current Configuration Display -->
        <div id="currentConfigDisplay">
            <strong>Current Configuration:</strong>
            <pre id="configJsonDisplay"></pre> <!-- Use pre for better formatting -->
        </div>

        <!-- Controls Section -->
        <div class="controls">
            <h2>Select Sound Module</h2>
            <div class="control-group">
                 <div class="control-row">
                     <label for="soundModuleSelect">Sound Type:</label>
                     <select id="soundModuleSelect"></select>
                 </div>
            </div>

            <h2>Module Parameters</h2>
            <!-- Dynamic controls will be inserted here -->
            <div id="moduleControlsContainer">
                <!-- Example Structure (Generated by JS):
                <div class="control-group">
                    <div class="control-row">
                        <label for="paramId">Param Label:</label>
                        <input type="range" id="paramId" min="0" max="4" step="1" value="1">
                        <span class="value-display" id="paramIdValue">1</span>
                    </div>
                </div>
                <div class="control-group">
                     <div class="control-row">
                        <label for="selectId">Select Label:</label>
                        <select id="selectId">
                            <option value="val1">Option 1</option>
                        </select>
                    </div>
                </div>
                 -->
            </div>

            <div class="buttons">
                 <button id="playManualButton">Play Sound</button>
            </div>
        </div>

        <!-- Visualizations Section -->
        <div class="visualizations">
            <h2>Visualizations</h2>
            <div class="two-column">
                 <div class="column">
                     <h3>Frequency Domain (FFT)</h3>
                     <canvas id="fftCanvas"></canvas>
                 </div>
                 <div class="column">
                     <h3>Time Domain (Waveform)</h3>
                     <canvas id="waveformCanvas"></canvas>
                 </div>
            </div>
             <!-- NoteBar canvas removed as requested -->
        </div>
    </div>

    <!-- Load ambient test JavaScript -->
    <script type="module" src="./sounds/ambientTest.js"></script>
</body>
</html>